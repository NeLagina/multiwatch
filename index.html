<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MultiTwitch Clone</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <!-- Buttons -->
  <div id="buttons">
    <button id="btn-cestovas" onclick="chatchange('cestovas')">Cestovas</button>
    <button id="btn-lturepublic" onclick="chatchange('lturepublic')">lturepublic</button>
    <button id="btn-damagis" onclick="chatchange('damagis')">Damagis</button>
  </div>

  <!-- Chats -->
  <div id="chats">
    <iframe id="chat1" src="https://www.twitch.tv/embed/cestovas/chat?parent=multiwatch.nelagina.lt"></iframe>
    <iframe id="chat2" class="hida" src="https://www.twitch.tv/embed/lturepublic/chat?parent=multiwatch.nelagina.lt"></iframe>
    <iframe id="chat3" class="hida" src="https://www.youtube.com/live_chat?is_popout=1&v=fZJzGcXaukA&embed_domain=multiwatch.nelagina.lt"></iframe>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      function chatchange(chatId) {
        const chatMap = {
          cestovas: 'chat1',
          lturepublic: 'chat2',
          damagis: 'chat3',
        };

        const buttonMap = {
          cestovas: 'btn-cestovas',
          lturepublic: 'btn-lturepublic',
          damagis: 'btn-damagis',
        };

        // Update chats
        Object.keys(chatMap).forEach(key => {
          const chatElement = document.getElementById(chatMap[key]);
          if (chatElement) {
            chatElement.classList.toggle('hida', key !== chatId);
          }
        });

        // Update buttons
        Object.keys(buttonMap).forEach(key => {
          const buttonElement = document.getElementById(buttonMap[key]);
          if (buttonElement) {
            buttonElement.classList.toggle('active', key === chatId);
          }
        });
      }

      // Expose the function globally
      window.chatchange = chatchange;

      // Initialize: Show the first chat and highlight the first button
      chatchange('cestovas');
    });
  </script>
</body>

</html>
